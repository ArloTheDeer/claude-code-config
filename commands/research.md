# 研究與分析

## 目標

進行深入的研究和分析，了解專案背景、識別根本問題，並提供全面的洞察來支援決策制定。研究結果將儲存在 `docs/research/` 目錄，並可能引導後續的 PRD 建立和實作。

## 流程

1. **接收初始請求：** 使用者提供問題描述、功能需求或需要調查的技術問題。
2. **初步專案了解：** 快速檢視關鍵專案檔案（最多 3-5 個檔案）以了解基本架構和技術堆疊。
3. **提出釐清問題：** 根據初始請求，提出 3-5 個針對性問題以更好地理解問題。
4. **深度分析：** 收到回答後，進行全面的程式碼庫檢查和問題調查。
5. **外部研究：** 進行針對性的網路搜尋，尋找最佳實踐、解決方案和相關資訊。
6. **產生研究文件：** 建立包含發現和建議的完整研究文件。
7. **取得當前日期：** 根據作業系統取得日期：
   - Windows: `powershell -Command "Get-Date -Format yyyy-MM-dd"`
   - Linux/macOS: `date +%Y-%m-%d`
8. **儲存研究：** 將文件儲存為 `docs/research/[date]-[topic-slug].md`。
9. **後續步驟：** 根據研究發現，建議是否：
   - 建立一個或多個 PRD 進行實作
   - 直接進行實作
   - 在特定領域進行額外研究

## 釐清問題框架

提出有助於發現真正問題並釐清意圖的問題。根據情境調整：

### 功能需求類：

- **問題/目標：** 「這個功能要解決什麼具體問題？」
- **現況：** 「你已經嘗試或考慮過哪些解決方案？」
- **成功標準：** 「如何衡量這個解決方案是否成功？」
- **限制條件：** 「有任何技術、時間或資源的限制嗎？」
- **範圍：** 「這個解決方案的範圍內和範圍外分別包含什麼？」

### 技術問題類：

- **症狀：** 「你遇到什麼具體的問題或錯誤？」
- **影響：** 「這如何影響你的使用者或開發流程？」
- **時間線：** 「這個問題是什麼時候開始出現的？」
- **環境：** 「有特定的條件會觸發這個問題嗎？」
- **優先級：** 「什麼最重要：快速修復、永久解決方案，還是了解根本原因？」

### 架構決策類：

- **需求：** 「關鍵的功能性和非功能性需求是什麼？」
- **規模：** 「預期的使用模式和成長軌跡是什麼？」
- **整合：** 「這需要與哪些系統或元件互動？」
- **團隊：** 「團隊的專業知識和能力如何？」
- **未來：** 「未來 6-12 個月需求可能如何變化？」

## 研究文件結構

產生的研究文件應包含：

### 1. 執行摘要

- 研究請求的簡要概述
- 關鍵發現和建議（3-5 個要點）
- 建議的後續步驟

### 2. 背景與脈絡

- 專案特性和現況
- 問題陳述和動機
- 識別的利害關係人和限制

### 3. 研究問題

- 使用者的初始請求
- 提出的釐清問題和收到的回答
- 基於回應精煉的問題定義

### 4. 分析

#### 4.1 程式碼庫分析

- 當前架構和模式
- 相關的現有實作
- 技術限制和依賴
- 潛在影響區域

#### 4.2 問題分析

- 根本原因調查
- 相關問題和依賴
- 風險評估
- 成功標準定義

#### 4.3 外部研究

- 產業最佳實踐
- 類似解決方案和案例研究
- 相關工具和函式庫
- 新興趨勢和考量

### 5. 解決方案選項

針對每個可行選項（通常 3-5 個）：

- **描述：** 方法的清楚說明
- **優點：** 好處和優勢
- **缺點：** 缺點和限制
- **實作複雜度：** 預估工作量和時程
- **維護影響：** 長期考量
- **風險評估：** 潛在問題和緩解策略

### 6. 建議

- 推薦方法及清楚的理由
- 如果限制改變時的替代方法
- 實作路線圖
- 關鍵決策點

### 7. 後續步驟

- 立即採取的行動
- 需要建立的 PRD（如適用）
- 需要的額外研究
- 實作考量

### 8. 參考資料

- 文件連結
- 相關討論或議題
- 參考的外部資源

## 與 PRD 和實作的整合

完成研究後：

1. **評估是否需要 PRD：**
   - 如果解決方案需要重要的新功能 → 建議撰寫 PRD
   - 如果識別出多個功能 → 建議撰寫多個 PRD
   - 如果是簡單修復或優化 → 可直接進行實作
   - **注意：** 研究報告僅提供建議，實際是否需要 PRD 由開發者根據研究內容決定

2. **PRD 撰寫參考（如開發者決定撰寫）：**
   - 在 PRD 中引用研究文件
   - 使用研究發現來制定需求
   - 將特定研究章節連結到 PRD 章節

3. **實作規劃：**
   - 使用研究來建立詳細的實作任務
   - 參考研究進行技術決策
   - 如果有新發現，保持研究更新

## 語言選擇

研究文件應使用與使用者對話相同的語言撰寫：

- 如果使用者用中文溝通，用繁體中文撰寫文件
- 如果使用者用英文溝通，用英文撰寫文件
- 在整個文件中保持一致性

## 重要指引

- **永遠從問題開始** - 在了解使用者的具體情況前，絕不直接跳到研究
- **全面但聚焦** - 研究應該全面但與問題相關
- **考慮多重觀點** - 技術、商業和使用者觀點
- **記錄假設** - 清楚陳述研究期間做出的任何假設
- **提供可行的洞察** - 研究應導向明確的後續步驟
- **漸進式儲存** - 在工作過程中儲存研究文件，而不只是在結束時
