# 完成檢查生成指引

為每個任務生成「完成檢查」章節，提供 1-5 條簡要的檢查要點，說明如何快速確認該任務已完成。這與最後的「執行驗收測試」任務不同：

- **完成檢查**：任務層級的快速檢查（完成單一任務後立即確認）
- **執行驗收測試**：功能層級的完整驗收（所有任務完成後的系統性驗證）

## 生成原則

1. **簡潔性**：1-5 條檢查要點，通常 1-2 條最理想
2. **可執行性**：提供具體可執行的檢查方法
3. **相關性**：聚焦於該任務的產出
4. **多樣性**：根據任務特性選擇適當的檢查方式

## 不同任務類型的完成檢查指引

### 1. 實作新功能或修改邏輯的任務
- 優先考慮單元測試
- 範例：「執行 `npm test` 確認新增/修改的測試通過」

### 2. API 開發任務
- 建議使用 curl 或其他 HTTP 測試工具
- 範例：「使用 `curl -X POST http://localhost:3000/api/users` 測試端點回應正確」

### 3. 資料庫相關任務
- 建議使用 supabase mcp（如果專案使用 Supabase）或資料庫查詢工具
- 範例：
  - 「使用 supabase mcp 查詢 users 表格，確認新增欄位存在」
  - 「使用 supabase mcp 插入測試資料，確認 unique constraint 正常運作」

### 4. 前端 UI 任務
- 建議使用 playwright mcp（如果可用）或手動測試
- 範例：「使用 playwright mcp 開啟 /settings 頁面，確認主題切換按鈕顯示正確」

### 5. CLI 工具或腳本任務
- 建議執行指令驗證
- 範例：「執行 `node scripts/migrate.js` 確認腳本正常運作無錯誤」

### 6. 檔案結構重構任務
- 建議檢查檔案系統
- 範例：「確認所有檔案已移動到 `src/ui/` 目錄且舊目錄已清空」

### 7. 建置相關任務
- 建議執行建置指令
- 範例：「執行 `npm run build` 確認建置成功無 TypeScript 錯誤」

### 8. 環境設定任務
- 建議驗證環境變數或設定檔
- 範例：「確認 `.env` 檔案包含所有必要的環境變數且格式正確」

### 9. 複雜任務（難以單一驗證）
- 提供 2-5 個檢查要點
- 涵蓋主要產出的檢查方式
- 範例：
  - 「執行單元測試確認核心邏輯通過」
  - 「使用 curl 測試 API 端點回應正確」
  - 「檢查日誌檔案確認無錯誤訊息」

## 排除規則

以下任務類型**不應**包含「完成檢查」章節：

1. **執行驗收測試**：任務本身就是驗收測試
2. **更新專案文件**：文件更新的驗證較為主觀，通常透過 PR review 進行
